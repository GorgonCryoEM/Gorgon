<HTML>
<HEAD>
<TITLE>Source: Range.h</TITLE>

<META NAME="Generator" CONTENT="KDOC ">
</HEAD>
<BODY bgcolor="#ffffff" text="#000000" link="#0000ff" vlink="#000099" alink= "#ffffff">
<TABLE WIDTH="100%" BORDER="0">
<TR>
<TD>
	<TABLE BORDER="0">
		<TR><TD valign="top" align="left" cellspacing="10">
		<h1>Source: Range.h</h1>
		</TD>
		<TD valign="top" align="right" colspan="1"></TD></TR>
	</TABLE>
	<HR>
	<TABLE BORDER="0">
		
	</TABLE>
	</TD>
<TD align="right"><TABLE BORDER="0"><TD rowspan="6"><IMG SRC="./llama2.gif"></TD><TR><TD><small><A HREF="index-long.html">Annotated List</A></small></TD></TR>
<TR><TD><small><A HREF="header-list.html">Files</A></small></TD></TR>
<TR><TD><small><A HREF="all-globals.html">Globals</A></small></TD></TR>
<TR><TD><small><A HREF="hier.html">Hierarchy</A></small></TD></TR>
<TR><TD><small><A HREF="index.html">Index</A></small></TD></TR>
</TABLE></TD></TR></TABLE>
<pre>
// -*- C++ -*-

#ifndef _LLAMA_RANGE_H_
#define _LLAMA_RANGE_H_

#include "General.h"
#include "Exception.h"

namespace Llama {

  /**
     Range of integers closure.
  */
  class Range {
  private:
    Boolean _all;			// all?
    Integer _start;		// beginning index
    Integer _stop;		// end index
    Integer _stride;		// stride unit
    Integer _size;		// size
  public:
    // constructors
    Range ();
    Range (Integer, Integer, Integer = 1);
    // basic information
    Boolean all() const;
    Integer start () const;
    Integer stop () const;
    Integer stride () const;
    Integer size () const;
    // the i-th element in the range
    Integer operator () (Integer) const;
  };

  inline Range::Range () : _all(True) {}

  inline Range::Range (Integer start, Integer stop, Integer stride)
    : _all(False), _start(start), _stop(stop), _stride(stride)
  {
    _size = (_stop - _start) / _stride + 1;
    if (_size <= 0) 
      throw Exception("range constructor", "empty range");
  }

  inline Boolean
  Range::all () const
  { return _all; }

  inline Integer
  Range::start () const
  { return _start; }

  inline Integer
  Range::stop () const
  { return _stop; }

  inline Integer
  Range::stride () const
  { return _stride; }

  inline Integer
  Range::size () const
  {
    return _size; 
  }

  inline Integer
  Range::operator () (Integer k) const
  {
    if (k > _size) 
      throw IndexError("range ()");
    if (this->all()) {
      return k;
    } else {
      return _start + _stride * k;
    }
  }

  /**
     Llama slice object
  */
  typedef struct {
    Boolean use_slice;
    Index start, size;
    Integer stride;
    const Matrix<Index> *indices;
  } _slice;

}

#endif
</pre>
<HR>
	<table>
	<tr><td><small>Generated by: king on larix.tiem.utk.edu on Tue Jun 29 10:55:51 2004, using kdoc 2.0a54.</small></td></tr>
	</table>
</BODY>
</HTML>
